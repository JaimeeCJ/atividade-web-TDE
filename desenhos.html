<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <title>Player</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/player.css">

</head>

<body>
    <header style="position:relative;">
        <a href="./index.html"><img src="assets/logo2.png" alt="logo" class="logo"></a>
        <nav class="nav nav-masthead justify-content-center float-md-end">
            <a class="nav-link fw-bold py-1 px-0 active" aria-current="page" href="./index.html">Home</a>
            <a class="nav-link fw-bold py-1 px-0" href="./programacaododia.html">Programação do dia</a>
            <a class="nav-link fw-bold py-1 px-0" href="./novelas.html">Novelas</a>
            <a class="nav-link fw-bold py-1 px-0" href="./desenhos.html">Desenhos</a>
        </nav>
    </header>
    <main class="container">
        <main class="player">   
            <div>

                <p data-video="KBSPG5oCuS8"></p>
                <p data-video="dTEDhPwmxKw"></p>
                <p data-video="lPOjZauruEk"></p>
                <div id="player"></div>
                <p id="time" style="color:white"></p>

            </div>
        </main>
</body>
<script src="http://www.youtube.com/player_api"></script>

<script>
    var today = new Date();
    minutos = today.getMinutes();
    if (minutos < 10) {
        minutos = "0" + today.getMinutes();
    }
    var time = today.getHours() + ":" + minutos + ":" + today.getSeconds();
    document.getElementById("time").innerHTML = time;

    function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.ENDED) {
            // your code to run after video has ended
            player.current_video++;
            playVideo()
        }
    }

    var player = document.querySelector('iframe');
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '560',
            width: '1008',
            videoId: 'KBSPG5oCuS8',
            playerVars: { 'autoplay': 1, 'start': 122 },
            events: {
                'onStateChange': onPlayerStateChange
            }

        });
        // Create a property on the player object to keep track of the current video index
        player.current_video = 0;
    }

    $('[data-video]').click(function () {
        player.current_video = $(this).index();
        playVideo();
    })

    function playVideo() {
        var video_id = $('[data-video]').eq(player.current_video).attr('data-video');
        player.loadVideoById(video_id, 5, "large")
    }


</script>

</html>