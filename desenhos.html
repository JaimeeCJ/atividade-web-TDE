<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="players.css">
    <title>Player</title>
</head>

<body>
    <header>
        <a href="a"><img src="assets/" alt="logo" class="logo"></a>
        <nav class="navegation">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="a">Programação do dia</a></li>
                <li><a href="a">Sugestões</a></li>
                
        </nav>

        </ul>
        </nav>
    </header>
    <main class="player">

        <div>
            <div>

                <p data-video="KBSPG5oCuS8"></p>
                <p data-video="dTEDhPwmxKw"></p>
                <p data-video="lPOjZauruEk"></p>
                <div id="player"></div>
                <p id="time" style="color:white"></p>

            </div>



    </main>

</body>
<script src="http://www.youtube.com/player_api"></script>

<script>
    var today = new Date();
    minutos = today.getMinutes();
    if (minutos < 10) {
        minutos = "0" + today.getMinutes();
    }
    var time = today.getHours() + ":" + minutos + ":" + today.getSeconds();
    document.getElementById("time").innerHTML = time;

    function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.ENDED) {
            // your code to run after video has ended
            player.current_video++;
            playVideo()
        }
    }

    var player = document.querySelector('iframe');
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '560',
            width: '1008',
            videoId: 'KBSPG5oCuS8',
            playerVars: { 'autoplay': 1, 'start': 122 },
            events: {
                'onStateChange': onPlayerStateChange
            }

        });
        // Create a property on the player object to keep track of the current video index
        player.current_video = 0;
    }

    $('[data-video]').click(function () {
        player.current_video = $(this).index();
        playVideo();
    })

    function playVideo() {
        var video_id = $('[data-video]').eq(player.current_video).attr('data-video');
        player.loadVideoById(video_id, 5, "large")
    }


</script>

</html>